import{R as _,r as K,D as f}from"./index.7c413926.js";const D=()=>Math.random().toString(32).slice(2,10),M=(t,r)=>{let e=[];return[_.Children.map(t,n=>_.isValidElement(n)&&n.type===r?(e.push(n),null):n),e.length>=0?e:void 0]},P=(t,r)=>{if(!t||!r)return!1;let e=r;for(;e;){if(e===t)return!0;e=e.parentNode}return!1},m=()=>!!Boolean(typeof window<"u"&&window.document&&window.document.createElement)&&navigator.platform.toUpperCase().indexOf("MAC")>=0,k={scrollLayer:!1},i=new Map,C=t=>!!(t.touches&&t.touches.length>1)||(t.preventDefault(),!1),S=(t,r)=>{if(typeof document>"u")return[!1,l=>l];const e=t||K.exports.useRef(document.body),[n,s]=K.exports.useState(!1),E={...k,...r||{}},u=()=>!E.scrollLayer&&!(typeof window>"u"||!window.navigator)&&/iP(ad|hone|od)/.test(window.navigator.platform);return K.exports.useEffect(()=>{if(!e||!e.current)return;const l=e.current.style.overflow;if(n)return i.has(e.current)?void 0:(u()?document.addEventListener("touchmove",C,{passive:!1}):e.current.style.overflow="hidden",void i.set(e.current,{last:l}));if(i.has(e.current)){if(u())document.removeEventListener("touchmove",C);else{const c=i.get(e.current);e.current.style.overflow=c.last}i.delete(e.current)}},[n,e]),[n,s]},B={Unknown:0,Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,PauseBreak:19,CapsLock:20,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,Delete:46,KEY_0:48,KEY_1:49,KEY_2:50,KEY_3:51,KEY_4:52,KEY_5:53,KEY_6:54,KEY_7:55,KEY_8:56,KEY_9:57,KEY_A:65,KEY_B:66,KEY_C:67,KEY_D:68,KEY_E:69,KEY_F:70,KEY_G:71,KEY_H:72,KEY_I:73,KEY_J:74,KEY_K:75,KEY_L:76,KEY_M:77,KEY_N:78,KEY_O:79,KEY_P:80,KEY_Q:81,KEY_R:82,KEY_S:83,KEY_T:84,KEY_U:85,KEY_V:86,KEY_W:87,KEY_X:88,KEY_Y:89,KEY_Z:90,Meta:91,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NumLock:144,ScrollLock:145,Equal:187,Minus:189,Backquote:192,Backslash:220},y={CtrlCmd:2048,Shift:1024,Alt:512,WinCtrl:256},A=()=>({CtrlCmd:m()?"metaKey":"ctrlKey",WinCtrl:m()?"ctrlKey":"metaKey"}),F=t=>{const r=t.filter(n=>!!f(y,n)),e={CtrlCmd:!1,Shift:!1,Alt:!1,WinCtrl:!1};return r.forEach(n=>{const s=f(y,n);e[s]=!0}),e},U=(t,r,e={})=>{const n=Array.isArray(r)?r:[r],{disableGlobalEvent:s=!1,capture:E=!1,stopPropagation:u=!1,preventDefault:l=!1,event:c="keydown"}=e,d=F(n),Y=n.filter(o=>!f(y,o)),{CtrlCmd:w,WinCtrl:h}=A(),p=o=>{d.Shift&&!o.shiftKey||d.Alt&&!o.altKey||d.CtrlCmd&&!o[w]||d.WinCtrl&&!o[h]||Y.length>0&&!Y.includes(o.keyCode)||(u&&o.stopPropagation(),l&&o.preventDefault(),t&&t(o))};K.exports.useEffect(()=>(s||document.addEventListener(c,p),()=>{document.removeEventListener(c,p)}),[s]);const a=(o,v=!1)=>o!==c||v!==E?()=>{}:g=>p(g);return{bindings:{onKeyDown:a("keydown"),onKeyDownCapture:a("keydown",!0),onKeyPress:a("keypress"),onKeyPressCapture:a("keypress",!0),onKeyUp:a("keyup"),onKeyUpCapture:a("keyup",!0)}}};export{B as K,S as a,D as g,P as i,U as o,M as p};
